import{r as u,a as J,R as _}from"./vendor-b1791c80.js";import{S as M,U,F as E,B as S,C as G,A as z,D as W}from"./ui-2073ea28.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function d(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(o){if(o.ep)return;o.ep=!0;const n=d(o);fetch(o.href,n)}})();var k={exports:{}},v={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q=u,K=Symbol.for("react.element"),V=Symbol.for("react.fragment"),Y=Object.prototype.hasOwnProperty,H=q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Q={key:!0,ref:!0,__self:!0,__source:!0};function C(r,a,d){var c,o={},n=null,i=null;d!==void 0&&(n=""+d),a.key!==void 0&&(n=""+a.key),a.ref!==void 0&&(i=a.ref);for(c in a)Y.call(a,c)&&!Q.hasOwnProperty(c)&&(o[c]=a[c]);if(r&&r.defaultProps)for(c in a=r.defaultProps,a)o[c]===void 0&&(o[c]=a[c]);return{$$typeof:K,type:r,key:n,ref:i,props:o,_owner:H.current}}v.Fragment=V;v.jsx=C;v.jsxs=C;k.exports=v;var e=k.exports,P={},I=J;P.createRoot=I.createRoot,P.hydrateRoot=I.hydrateRoot;const X="modulepreload",Z=function(r){return"/legalmind-ai/"+r},O={},ee=function(a,d,c){if(!d||d.length===0)return a();const o=document.getElementsByTagName("link");return Promise.all(d.map(n=>{if(n=Z(n),n in O)return;O[n]=!0;const i=n.endsWith(".css"),N=i?'[rel="stylesheet"]':"";if(!!c)for(let f=o.length-1;f>=0;f--){const p=o[f];if(p.href===n&&(!i||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${N}`))return;const h=document.createElement("link");if(h.rel=i?"stylesheet":X,i||(h.as="script",h.crossOrigin=""),h.href=n,document.head.appendChild(h),i)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>a()).catch(n=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=n,window.dispatchEvent(i),!i.defaultPrevented)throw n})};const se=()=>{const[r,a]=u.useState(null),[d,c]=u.useState(!1),[o,n]=u.useState(!1),[i,N]=u.useState(""),[w,h]=u.useState(""),f=async s=>{try{const t=await s.arrayBuffer(),l=await ee(()=>import("./pdf-f4a15e5b.js"),["assets/pdf-f4a15e5b.js","assets/vendor-b1791c80.js","assets/ui-2073ea28.js"]);l.GlobalWorkerOptions.workerSrc="https://esm.sh/pdfjs-dist@5.4.449/build/pdf.worker.min.mjs";const m=await l.getDocument({data:t,cMapUrl:"https://esm.sh/pdfjs-dist@5.4.449/cmaps/",cMapPacked:!0}).promise;let g="";const D=m.numPages;for(let j=1;j<=D;j++){const $=(await(await m.getPage(j)).getTextContent()).items.map(B=>B.str).join(" ");g+=$+`
`}if(!g.trim())throw new Error("PDF æ–‡ä»¶ä¸­æœªæ‰¾åˆ°å¯æ“·å–çš„æ–‡å­—å…§å®¹ã€‚è«‹ç¢ºèª PDF æª”æ¡ˆåŒ…å«æ–‡å­—è€Œéžåƒ…ç‚ºæŽƒæåœ–ç‰‡ã€‚");return g}catch(t){throw console.error("PDF è§£æžéŒ¯èª¤:",t),new Error(`PDF è™•ç†å¤±æ•—: ${t instanceof Error?t.message:"æœªçŸ¥éŒ¯èª¤"}`)}},p=async s=>{var l,x;const t=`
    ä½œç‚ºå°ˆæ¥­æ³•å¾‹AIåŠ©æ‰‹ï¼Œè«‹åˆ†æžä»¥ä¸‹å°ç£æ³•é™¢åˆ¤æ±ºæ›¸å…§å®¹ä¸¦ä»¥JSONæ ¼å¼å›žæ‡‰ï¼š

    ${s}

    è«‹æä¾›ä»¥ä¸‹çµæ§‹åŒ–åˆ†æžï¼Œå‹™å¿…ç¢ºä¿å›žæ‡‰ç‚ºæœ‰æ•ˆçš„JSONæ ¼å¼ï¼š
    {
      "summary": "æ¡ˆä»¶æ‘˜è¦ï¼ˆ2-3å¥è©±æ¦‚è¿°ï¼‰",
      "caseInfo": {
        "caseNumber": "æ¡ˆä»¶ç·¨è™Ÿï¼ˆå¾žåˆ¤æ±ºæ›¸ä¸­æ“·å–ï¼‰",
        "court": "æ³•é™¢åç¨±ï¼ˆå®Œæ•´åç¨±ï¼‰",
        "parties": {
          "plaintiff": "åŽŸå‘Šå§“åï¼ˆå¤šäººæ™‚ç”¨é “è™Ÿåˆ†éš”ï¼‰",
          "defendant": "è¢«å‘Šå§“åï¼ˆå¤šäººæ™‚ç”¨é “è™Ÿåˆ†éš”ï¼‰"
        }
      },
      "favorablePoints": ["å°è¢«å‘Š/ç•¶äº‹äººæœ‰åˆ©çš„åˆ¤æ±ºè¦é»žï¼ˆæ¯é …30-50å­—ï¼‰"],
      "unfavorablePoints": ["å°è¢«å‘Š/ç•¶äº‹äººä¸åˆ©çš„åˆ¤æ±ºè¦é»žï¼ˆæ¯é …30-50å­—ï¼‰"],
      "legalGrounds": ["ç›¸é—œæ³•æ¢ï¼ˆå«æ¢è™Ÿï¼‰"],
      "appealableIssues": ["å¯èƒ½çš„ä¸Šè¨´ç†ç”±ï¼ˆæ¯é …30-50å­—ï¼‰"],
      "recommendedStrategy": "å»ºè­°çš„æ³•å¾‹ç­–ç•¥ï¼ˆ50-100å­—ï¼‰"
    }

    è«‹ç¢ºä¿ï¼š
    1. æ‰€æœ‰å­—æ®µéƒ½å¿…é ˆå¡«å¯«
    2. é™£åˆ—è‡³å°‘åŒ…å«1é …å…§å®¹
    3. å›žæ‡‰åƒ…åŒ…å«JSONï¼Œä¸è¦å…¶ä»–æ–‡å­—
    4. åˆ†æžè¦å®¢è§€å°ˆæ¥­
    `;try{const m=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"claude-sonnet-4-20250514",max_tokens:2e3,messages:[{role:"user",content:t}]})});if(!m.ok)throw new Error(`API è«‹æ±‚å¤±æ•—: ${m.status}`);const j=(((x=(l=(await m.json()).content)==null?void 0:l[0])==null?void 0:x.text)||"").match(/\{[\s\S]*\}/);if(j){const y=JSON.parse(j[0]);if(!y.summary||!y.caseInfo)throw new Error("AI åˆ†æžå›žæ‡‰æ ¼å¼ä¸å®Œæ•´");return y}else throw new Error("AI å›žæ‡‰ä¸­æœªæ‰¾åˆ°æœ‰æ•ˆçš„ JSON æ ¼å¼")}catch(m){throw console.error("åˆ¤æ±ºåˆ†æžå¤±æ•—:",m),T(s),new Error(`AI åˆ†æžæœå‹™æš«æ™‚ç„¡æ³•ä½¿ç”¨: ${m instanceof Error?m.message:"æœªçŸ¥éŒ¯èª¤"}`)}},T=s=>{const t=s.match(/(\d+å¹´åº¦\w+å­—ç¬¬\d+è™Ÿ)/),l=s.match(/(è‡ºç£\w+åœ°æ–¹æ³•é™¢|è‡ºç£é«˜ç­‰æ³•é™¢|æœ€é«˜æ³•é™¢)/);return{summary:"å·²å®Œæˆ PDF æ–‡å­—æ“·å–ï¼Œè«‹æ‰‹å‹•æª¢è¦–å…§å®¹é€²è¡Œåˆ†æž",caseInfo:{caseNumber:(t==null?void 0:t[0])||"æœªæ‰¾åˆ°æ¡ˆè™Ÿ",court:(l==null?void 0:l[0])||"æœªæ‰¾åˆ°æ³•é™¢",parties:{plaintiff:"è«‹å¾žåˆ¤æ±ºæ›¸ä¸­ç¢ºèª",defendant:"è«‹å¾žåˆ¤æ±ºæ›¸ä¸­ç¢ºèª"}},favorablePoints:["è«‹æ‰‹å‹•åˆ†æžåˆ¤æ±ºå…§å®¹"],unfavorablePoints:["è«‹æ‰‹å‹•åˆ†æžåˆ¤æ±ºå…§å®¹"],legalGrounds:["è«‹æŸ¥é–±åˆ¤æ±ºæ›¸ç›¸é—œæ³•æ¢"],appealableIssues:["è«‹è«®è©¢å°ˆæ¥­å¾‹å¸«"],recommendedStrategy:"å»ºè­°è©³ç´°é–±è®€åˆ¤æ±ºæ›¸å…¨æ–‡ä¸¦è«®è©¢æ³•å¾‹å°ˆæ¥­äººå£«"}},A=async(s,t)=>{const l=`
    åŸºæ–¼ä»¥ä¸‹åˆ¤æ±ºåˆ†æžçµæžœï¼Œè«‹æ’°å¯«${s}ï¼š

    æ¡ˆä»¶è³‡è¨Šï¼š${JSON.stringify(t.caseInfo)}
    åˆ†æžçµæžœï¼š${JSON.stringify(t)}

    è«‹ä¾ç…§å°ç£æ³•é™¢æ ¼å¼æ’°å¯«ï¼ŒåŒ…å«ï¼š
    1. ç•¶äº‹äººè³‡è¨Š
    2. æ¡ˆä»¶äº‹å¯¦
    3. ä¸Šè¨´ç†ç”±
    4. æ³•å¾‹ä¾æ“š  
    5. è²æ˜Žäº‹é …

    è«‹ç›´æŽ¥æä¾›å®Œæ•´çš„æ³•å¾‹æ–‡æ›¸å…§å®¹ã€‚
    `;try{return(await(await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"claude-sonnet-4-20250514",max_tokens:1e3,messages:[{role:"user",content:l}]})})).json()).content[0].text}catch(x){return console.error("Document generation failed:",x),"æ–‡ä»¶ç”Ÿæˆå¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚"}},b=u.useCallback(async s=>{if(!s){alert("è«‹é¸æ“‡ä¸€å€‹æª”æ¡ˆ");return}if(s.type!=="application/pdf"){alert("è«‹ä¸Šå‚³ PDF æ ¼å¼çš„åˆ¤æ±ºæ›¸");return}if(s.size>10*1024*1024){alert("æª”æ¡ˆå¤§å°ä¸èƒ½è¶…éŽ 10MB");return}c(!0);try{const t=await f(s);a({file:s,text:t}),setTimeout(()=>{c(!1)},500)}catch(t){console.error("æª”æ¡ˆè™•ç†éŒ¯èª¤:",t),alert(t instanceof Error?t.message:"æª”æ¡ˆè™•ç†å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦"),c(!1)}},[]),F=u.useCallback(s=>{s.preventDefault();const t=Array.from(s.dataTransfer.files);t.length>0&&b(t[0])},[b]),R=async()=>{if(r){c(!0);try{const s=await p(r.text);a(t=>t?{...t,analysis:s}:null)}catch(s){console.error("Analysis failed:",s)}finally{c(!1)}}},L=async()=>{if(!(!(r!=null&&r.analysis)||!i)){n(!0);try{const s=await A(i,r.analysis);h(s)}catch(s){console.error("Document generation failed:",s)}finally{n(!1)}}};return e.jsxs("div",{className:"app",children:[e.jsxs("header",{className:"app-header",children:[e.jsxs("div",{className:"logo",children:[e.jsx(M,{className:"logo-icon"}),e.jsx("h1",{children:"LegalMind AI"})]}),e.jsx("p",{className:"subtitle",children:"åˆ¤æ±ºåˆ†æžèˆ‡è¨´ç‹€ç”ŸæˆåŠ©æ‰‹"})]}),e.jsxs("main",{className:"app-main",children:[!r&&e.jsx("section",{className:"upload-section",children:e.jsxs("div",{className:"drop-zone",onDrop:F,onDragOver:s=>s.preventDefault(),onDragEnter:s=>s.preventDefault(),children:[e.jsx(U,{className:"upload-icon"}),e.jsx("h3",{children:"ä¸Šå‚³åˆ¤æ±ºæ›¸ PDF"}),e.jsx("p",{children:"é»žæ“Šæˆ–å°‡æª”æ¡ˆæ‹–æ”¾è‡³æ­¤"}),e.jsx("input",{type:"file",accept:".pdf",onChange:s=>{var l;const t=(l=s.target.files)==null?void 0:l[0];t&&b(t)},className:"file-input"}),e.jsx("div",{className:"format-info",children:"æ”¯æ´æ ¼å¼: PDF (å¯æ“·å–æ–‡å­—) | æœ€å¤§ 10MB"})]})}),r&&!r.analysis&&e.jsxs("section",{className:"content-preview-section",children:[e.jsxs("div",{className:"file-info",children:[e.jsx(E,{className:"file-icon"}),e.jsxs("div",{children:[e.jsx("h3",{children:r.file.name}),e.jsxs("p",{children:["æª”æ¡ˆå¤§å°: ",(r.file.size/1024/1024).toFixed(2)," MB"]})]})]}),e.jsxs("div",{className:"content-preview",children:[e.jsx("h4",{children:"PDF å…§å®¹é è¦½"}),e.jsx("div",{className:"text-preview",children:e.jsxs("pre",{children:[r.text.substring(0,1e3),r.text.length>1e3?`...

[é¡¯ç¤ºå‰1000å­—ç¬¦]`:""]})})]}),e.jsx("button",{className:"analyze-btn",onClick:R,disabled:d,children:d?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"btn-icon spinning"}),"AI åˆ†æžä¸­..."]}):e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"btn-icon"}),"é–‹å§‹ AI åˆ†æž"]})})]}),(r==null?void 0:r.analysis)&&e.jsx("section",{className:"results-section",children:e.jsxs("div",{className:"analysis-results",children:[e.jsx("h2",{children:"åˆ¤æ±ºåˆ†æžçµæžœ"}),e.jsxs("div",{className:"result-card",children:[e.jsx("h3",{children:"æ¡ˆä»¶è³‡è¨Š"}),e.jsxs("div",{className:"case-info",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"æ¡ˆè™Ÿï¼š"}),r.analysis.caseInfo.caseNumber]}),e.jsxs("p",{children:[e.jsx("strong",{children:"æ³•é™¢ï¼š"}),r.analysis.caseInfo.court]}),e.jsxs("p",{children:[e.jsx("strong",{children:"ç•¶äº‹äººï¼š"}),r.analysis.caseInfo.parties.plaintiff," è¨´ ",r.analysis.caseInfo.parties.defendant]})]})]}),e.jsxs("div",{className:"result-card",children:[e.jsx("h3",{children:"æ¡ˆä»¶æ‘˜è¦"}),e.jsx("p",{children:r.analysis.summary})]}),e.jsxs("div",{className:"pros-cons-grid",children:[e.jsxs("div",{className:"result-card favorable",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(G,{className:"header-icon"}),e.jsx("h3",{children:"å°æˆ‘æœ‰åˆ©"})]}),e.jsx("ul",{children:r.analysis.favorablePoints.map((s,t)=>e.jsx("li",{children:s},t))})]}),e.jsxs("div",{className:"result-card unfavorable",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(z,{className:"header-icon"}),e.jsx("h3",{children:"åˆ¤æ±ºèª¿é»ž / å°æˆ‘ä¸åˆ©"})]}),e.jsx("ul",{children:r.analysis.unfavorablePoints.map((s,t)=>e.jsx("li",{children:s},t))})]})]}),e.jsxs("div",{className:"result-card",children:[e.jsx("h3",{children:"é¸æ“‡ç”Ÿæˆæ–‡æ›¸é¡žåž‹"}),e.jsx("div",{className:"document-type-selector",children:["æ°‘äº‹ä¸Šè¨´ç‹€","åˆ‘äº‹ä¸Šè¨´ç‹€","ç­”è¾¯ç‹€","èµ·è¨´ç‹€"].map(s=>e.jsx("button",{className:`doc-type-btn ${i===s?"active":""}`,onClick:()=>N(s),children:s},s))}),i&&e.jsx("button",{className:"generate-btn",onClick:L,disabled:o,children:o?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"btn-icon spinning"}),"ç”Ÿæˆä¸­..."]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"btn-icon"}),"é–‹å§‹æ’°å¯«æ›¸ç‹€"]})})]}),w&&e.jsxs("div",{className:"result-card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(E,{className:"header-icon"}),e.jsx("h3",{children:i}),e.jsxs("button",{className:"download-btn",children:[e.jsx(W,{className:"btn-icon"}),"ä¸‹è¼‰"]})]}),e.jsx("div",{className:"generated-document",children:e.jsx("pre",{children:w})})]})]})})]}),e.jsx("footer",{className:"app-footer",children:e.jsx("p",{children:"Powered by Gemini 2.5 Flash & Claude Sonnet 4 | å°ˆç‚ºæ³•å¾‹æ•™è‚²è¨­è¨ˆ"})})]})};class re extends _.Component{constructor(a){super(a),this.state={hasError:!1}}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,d){console.error("LegalMind AI Error:",a,d)}render(){return this.state.hasError?e.jsxs("div",{style:{padding:"2rem",textAlign:"center",fontFamily:"system-ui, sans-serif",color:"#1e3a5f"},children:[e.jsx("h1",{children:"ðŸš« ç³»çµ±ç™¼ç”ŸéŒ¯èª¤"}),e.jsx("p",{children:"å¾ˆæŠ±æ­‰ï¼ŒLegalMind AI é‡åˆ°äº†æŠ€è¡“å•é¡Œã€‚"}),e.jsx("p",{children:"è«‹é‡æ–°æ•´ç†é é¢æˆ–ç¨å¾Œå†è©¦ã€‚"}),e.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"0.75rem 1.5rem",backgroundColor:"#1e3a5f",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",marginTop:"1rem"},children:"é‡æ–°è¼‰å…¥"}),!1]}):this.props.children}}const te=performance.now();window.addEventListener("load",()=>{const r=performance.now()-te;console.log(`LegalMind AI loaded in ${r.toFixed(2)}ms`)});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(r=>{console.log("SW registered: ",r)}).catch(r=>{console.log("SW registration failed: ",r)})});P.createRoot(document.getElementById("root")).render(e.jsx(_.StrictMode,{children:e.jsx(re,{children:e.jsx(se,{})})}));export{ee as _};
